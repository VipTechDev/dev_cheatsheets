# üöÄ Express.js Cheat Sheet  
Module 3: Web Application Framework

---

## üì¶ `package.json` ‚Äî Declaring Express Dependency  
‚úÖ To use Express version 4.x, declare it like this:

```json
"dependencies": {
  "express": "4.x"
}
```

---

## üÜï `new express()` ‚Äî Create Express App  
‚úÖ Initializes an Express server instance.

```js
const express = require("express");
const app = new express();
```

---

## üéß `app.listen()` ‚Äî Start Server  
‚úÖ Binds and listens for connections on the specified port.

```js
app.listen(3333, () => {
  console.log("Listening at http://localhost:3333");
});
```

---

## üì• `app.get()` ‚Äî Handle GET Requests  
‚úÖ Responds to GET requests at a specific endpoint.

```js
// handles GET queries to endpoint /user/about/:id
app.get("/user/about/:id", (req, res) => {
  res.send("Response about user " + req.params.id);
});
```

---

## üìù `app.post()` ‚Äî Handle POST Requests  
‚úÖ Responds to POST requests at a specific endpoint.

```js
// handles POST queries to endpoint /user/about/:id
app.post("/user/about/:id", (req, res) => {
  res.send("Response about user " + req.params.id);
});
```

---

## üõ°Ô∏è `app.use()` ‚Äî Middleware Setup  
‚úÖ Middleware runs before route handlers and can modify the request/response.

```js
const express = require("express");
const app = new express();

function myLogger(req, res, next) {
  req.timeReceived = Date();
  next();
}

app.use(myLogger);

app.get("/", (req, res) => {
  res.send("Request received at " + req.timeReceived + " is a success!");
});
```

---

## üß≠ `express.Router()` ‚Äî Router-Level Middleware  
‚úÖ Use routers to modularize middleware and route logic.

```js
const express = require("express");
const app = new express();

let userRouter = express.Router();
let itemRouter = express.Router();

userRouter.use((req, res, next) => {
  console.log("User query time:", Date());
  next();
});

userRouter.get("/:id", (req, res) => {
  res.send("User " + req.params.id + " last successful login " + Date());
});

app.use("/user", userRouter);

app.listen(3333, () => {
  console.log("Listening at http://localhost:3333");
});
```

---

## üñºÔ∏è `express.static()` ‚Äî Serve Static Files  
‚úÖ Serves static HTML, images, and other assets.

```js
const express = require("express");
const app = new express();

app.use(express.static("cad220_staticfiles"));

app.listen(3333, () => {
  console.log("Listening at http://localhost:3333");
});
```

---

## üîê `jsonwebtoken.sign()` ‚Äî Create JWT  
‚úÖ Signs a payload to generate a JSON Web Token.

```js
if (uname === "user" && pwd === "password") {
  return res.json({
    token: jsonwebtoken.sign({ user: "user" }, JWT_SECRET),
  });
}
```

---

## ‚úÖ `jsonwebtoken.verify()` ‚Äî Verify JWT  
‚úÖ Verifies a token using the secret key.

```js
const verificationStatus = jsonwebtoken.verify(tokenValue, "aVeryVerySecretString");
```

---

## üóÇÔ∏è Project Structure ‚Äî Recommended Layout  
‚úÖ A modular folder structure for Express APIs.

```
test-project/
  node_modules/
  config/
    db.js           // Database connection and config
    credentials.js  // API keys and secrets
  models/           // Mongoose schemas
    items.js
    prices.js
  routes/           // Route handlers
    items.js
    prices.js
  app.js
  routes.js         // Aggregate all routes here
  package.json
```

---

## üìò Glossary: Express Web Application Framework

Welcome! This glossary complements your Express.js cheat sheet by defining key terms related to middleware, routing, authentication, and server-side architecture. It‚Äôs alphabetized for quick lookup and designed to support modular learning and remixable workflows.

| Term                      | Definition                                                                                                                                         |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| Access Token             | A small encrypted string passed from server to client that contains user info, permissions, and expiration.                                       |
| API Endpoint             | A specific URL where the API interacts with the application ‚Äî like a door between systems.                                                        |
| Application-Level Middleware | Middleware bound to the entire app. It runs before any route handlers and acts as a global gatekeeper.                                      |
| Authentication           | Verifying a user's identity using credentials. Ensures only valid users can access protected resources.                                           |
| Authorization            | Determines what an authenticated user is allowed to do ‚Äî like accessing protected routes or resources.                                           |
| Built-In Middleware      | Predefined Express functions for tasks like serving static files, parsing JSON, or handling cookies.                                              |
| Controller               | In MVC, the logic layer that handles user input and coordinates between model and view.                                                           |
| Error-Handling Middleware| Middleware that catches and processes errors. Always takes four arguments: `err`, `req`, `res`, and `next`.                                       |
| Express.js               | A minimalist web framework built on Node.js that simplifies server creation and routing.                                                          |
| Framework                | A foundational structure for building applications in a specific environment ‚Äî like Express for Node.js.                                          |
| HTTP Headers             | Metadata sent with HTTP requests/responses ‚Äî includes content type, authorization, cookies, etc.                                                  |
| HTTP Request             | A message sent from client to server asking for data or action ‚Äî like GET, POST, PUT, DELETE.                                                     |
| HTTP Response            | A message sent from server to client in reply to a request ‚Äî includes status code and data.                                                       |
| ID Token                 | A token that proves a user is authenticated and includes info about their access rights.                                                          |
| JSON Payload             | Data sent between client and server in JSON format, usually inside the body of an HTTP request.                                                   |
| JWT                      | JSON Web Token ‚Äî a secure, compact way to transmit user data between parties as a JSON object.                                                    |
| Middleware               | Functions that run before route handlers. They can modify `req`, `res`, or call `next()` to pass control.                                         |
| Model                    | In MVC, the layer that handles data logic and interacts with the database.                                                                        |
| MVC                      | ‚ÄúModel-View-Controller‚Äù ‚Äî an architecture that separates data, UI, and logic into distinct components.                                            |
| Node Framework           | A framework like Express that runs on Node.js and provides structure for building web apps.                                                       |
| npm                      | Node Package Manager ‚Äî used to install and manage packages in a Node.js project.                                                                  |
| Passwordless Authentication | Auth method using public/private keys instead of passwords ‚Äî improves security and user experience.                                       |
| Private Key              | A secret cryptographic key used to decrypt messages ‚Äî paired with a public key.                                                                   |
| Public Key               | A shared cryptographic key used to encrypt messages for a specific recipient ‚Äî paired with a private key.                                         |
| REST                     | ‚ÄúRepresentational State Transfer‚Äù ‚Äî a set of rules for building stateless APIs using HTTP methods.                                                |
| REST API                 | An API that follows REST principles ‚Äî uses endpoints and HTTP verbs to manage resources.                                                          |
| Route                    | Code that maps an HTTP method and URL to a specific handler function.                                                                             |
| Router-Level Middleware  | Middleware bound to a specific router ‚Äî useful for modularizing logic per route group.                                                            |
| Session-based Authentication | Auth method where login credentials are verified and a session ID is stored in a cookie.                                                  |
| Statelessness            | Each HTTP request is independent ‚Äî server doesn‚Äôt store client state between requests.                                                            |
| Template Rendering       | Server-side generation of HTML by injecting dynamic data into templates.                                                                         |
| Token                    | A string with three parts: header, payload (user claims), and signature ‚Äî used for secure data exchange.                                          |
| Token-based Authentication | Auth method using tokens (often JWTs) passed between client and server to verify identity.                                                  |
| TypeScript               | A typed superset of JavaScript that helps catch errors early and scale large apps.                                                                |
| View                     | In MVC, the layer responsible for displaying data ‚Äî usually HTML rendered from templates.                                                         |
| xml2js                   | A Node.js package that converts XML strings into JavaScript objects.                                                                             |

---
